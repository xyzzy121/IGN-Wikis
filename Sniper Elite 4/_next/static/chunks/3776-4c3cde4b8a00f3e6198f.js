(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3776],{76637:function(e,n,i){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MapWidget"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"objectSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"mapSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"map"},arguments:[{kind:"Argument",name:{kind:"Name",value:"objectSlug"},value:{kind:"Variable",name:{kind:"Name",value:"objectSlug"}}},{kind:"Argument",name:{kind:"Name",value:"mapSlug"},value:{kind:"Variable",name:{kind:"Name",value:"mapSlug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mapName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mapSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mapType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"objectSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"objectName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"initialZoom"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minZoom"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxZoom"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"initialLat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"initialLng"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tilesets"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"object"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"wikiSlug"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"objectStandardFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contributors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nickname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edits"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"types"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"typeSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"typeName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parentTypeSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"legend"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"anchorX"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"anchorY"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"markerIcon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"anchorX"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"anchorY"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:787}};t.loc.source={body:"#import './fragments/objectStandardFieldsFragment.gql'\nquery MapWidget($objectSlug: String!, $mapSlug: String!) {\n  map(objectSlug: $objectSlug, mapSlug: $mapSlug) {\n    id\n    mapName\n    mapSlug\n    mapType\n    objectSlug\n    objectName\n    width\n    height\n    initialZoom\n    minZoom\n    maxZoom\n    initialLat\n    initialLng\n    tilesets\n    backgroundColor\n    object {\n      wikiSlug\n      ...objectStandardFields\n    }\n    contributors {\n      nickname\n      displayName\n      thumbnailUrl\n      edits\n    }\n    types {\n      typeSlug\n      typeName\n      parentTypeSlug\n      legend {\n        width\n        height\n        url\n        anchorX\n        anchorY\n      }\n      markerIcon {\n        width\n        height\n        url\n        anchorX\n        anchorY\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}t.definitions=t.definitions.concat(i(83740).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};function s(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}t.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=t,e.exports.MapWidget=function(e,n){var i={kind:e.kind,definitions:[s(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var t=o[n]||new Set,a=new Set,r=new Set;for(t.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(n){var t=s(e,n);t&&i.definitions.push(t)})),i}(t,"MapWidget")},11724:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WikiDeletePage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"chapter"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reason"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"wikiDeletePage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}},{kind:"Argument",name:{kind:"Name",value:"title"},value:{kind:"Variable",name:{kind:"Name",value:"chapter"}}},{kind:"Argument",name:{kind:"Name",value:"reason"},value:{kind:"Variable",name:{kind:"Name",value:"reason"}}}],directives:[]}]}}],loc:{start:0,end:143}};n.loc.source={body:"mutation WikiDeletePage($slug: String!, $chapter: String, $reason: String) {\n  wikiDeletePage(slug: $slug, title: $chapter, reason: $reason)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,n)})),e.definitions&&e.definitions.forEach((function(e){i(e,n)}))}var t={};function a(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}n.definitions.forEach((function(e){if(e.name){var n=new Set;i(e,n),t[e.name.value]=n}})),e.exports=n,e.exports.WikiDeletePage=function(e,n){var i={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=t[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(t[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var t=a(e,n);t&&i.definitions.push(t)})),i}(n,"WikiDeletePage")},81138:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WikiSearch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"term"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"startIndex"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"count"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"wiki"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"term"},value:{kind:"Variable",name:{kind:"Name",value:"term"}}},{kind:"Argument",name:{kind:"Name",value:"startIndex"},value:{kind:"Variable",name:{kind:"Name",value:"startIndex"}}},{kind:"Argument",name:{kind:"Name",value:"count"},value:{kind:"Variable",name:{kind:"Name",value:"count"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pagination"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"endIndex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isMore"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pages"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"snippet"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"length"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:359}};n.loc.source={body:"query WikiSearch($slug: String!, $term: String!, $startIndex: Int, $count: Int) {\n  wiki(slug: $slug) {\n    id\n    search(term: $term, startIndex: $startIndex, count: $count) {\n      pagination {\n        endIndex\n        isMore\n        total\n      }\n      pages {\n        title\n        url\n        snippet\n        length\n        updatedAt\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,n)})),e.definitions&&e.definitions.forEach((function(e){i(e,n)}))}var t={};function a(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}n.definitions.forEach((function(e){if(e.name){var n=new Set;i(e,n),t[e.name.value]=n}})),e.exports=n,e.exports.WikiSearch=function(e,n){var i={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=t[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(t[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var t=a(e,n);t&&i.definitions.push(t)})),i}(n,"WikiSearch")},87860:function(e,n,i){"use strict";var t=i(80318),a=(i(67294),i(50319)),r=i(41054),o=i(3650),s=i.n(o),l=i(98828),c=i.n(l),d=i(11724),u=i.n(d),m=i(18877),k=i(30400),v=i(10361),g=i(38081),p=i(96830),h=i(52643),f=i(86902),b=i(19554),j=i(11504),x=i(95117),S=i(86458),w=i(91542),N=i(85893),y=i(11227)("kraken:components:pages:wikis:WikiDeletePage"),O=function(e){var n=e.slug,i=e.chapter,o=e.source,l=e.hide,d=(0,p.AA)(),g=d.notify,x=d.alert,S=o===v.R5?[{query:s(),variables:{slug:n,chapter:i,purge:!0}}]:v.s3?[{query:c(),variables:{count:v.hA,slug:n,purge:!0}}]:[],O=(0,a.D)(u(),{refetchQueries:S}),D=(0,t.Z)(O,1)[0];return(0,N.jsxs)(f.Du,{children:[(0,N.jsx)(f.O6,{title:"Delete This Page",close:l}),(0,N.jsx)(r.J9,{initialValues:{delete:!1,reason:""},validationSchema:m.PW,onSubmit:function(e,t){var a=e.reason,r=t.setSubmitting;D({variables:{slug:n,chapter:i,reason:a}}).then((function(e){var n=e.data;return y("response",n),r(!1),(0,k.L9W)({event:"wiki-DeletePage",action:"delete",optionalEvents:{reason:a,source:o}}),l(),g("Your wiki page has been deleted.")})).catch((function(e){return y(e),r(!1),x("Your wiki page failed to delete.")}))},children:(0,N.jsxs)(w.Z,{spacing:6,element:(0,N.jsx)(r.l0,{}),children:[(0,N.jsx)(j.Z,{name:"delete",label:"Are you sure you want to delete this wiki page?"}),(0,N.jsx)(b.Z,{name:"reason",label:"Reason"}),(0,N.jsx)(h.Au,{cancel:!0,fullWidth:!0,onCancel:l,label:"Delete"})]})})]})},D=function(e){var n=e.show;return(0,N.jsx)(S.Z,{tag:"button",type:"button",className:"link",title:"Delete this Page",onClick:n,children:(0,N.jsx)(x.IconDelete,{title:void 0})})};n.Z=function(e){var n=e.slug,i=e.chapter,t=e.source,a=e.ModalToggleButton,r=void 0===a?D:a;return(0,N.jsx)(g.m1,{I:"moderate",a:"Wiki",children:(0,N.jsx)(f.ZP,{ModalToggleButton:r,aria:{labelledby:"contentLabel"},showClose:!1,children:function(e){var a=e.hide;return(0,N.jsx)(O,{slug:n,chapter:i,source:t,hide:a})}})})}},42762:function(e,n,i){"use strict";i.d(n,{Z:function(){return be}});var t=i(65988),a=i(67294),r=i(53475),o=i(30400),s=i(38081),l=i(25862),c=i(80318),d=i(83789),u=i(92809),m=i(93561),k=i(78559),v=i(46998),g=i(10929),p=i(95117),h=i(85893);function f(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function b(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?f(Object(i),!0).forEach((function(n){(0,u.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var j=function(e){var n=e.title,i=e.url,t=e.selected,a=void 0!==t&&t,r=e.children,o=void 0===r?[]:r,s=e.expanded,l=void 0!==s&&s,c=e.swapMenu,d=e.index;return o.length>0?(0,h.jsx)(k.OP,{selected:l,onClick:function(){return c(d)},actions:(0,h.jsx)(p.IconRightChevron,{styles:{fontSize:"0.75rem"}}),name:n,itemLineClamp:2}):(0,h.jsx)(k.D8,{selected:a,href:i,trackingComponent:"navigation-wikiTOC",name:n,itemLineClamp:2})},x=function(e){var n=e.list,i=e.swapMenu;return(0,h.jsx)(h.Fragment,{children:n.map((function(e,n){return(0,h.jsx)(j,b({},b(b({},e),{},{swapMenu:i,index:n})),e.chapter)}))})},S=i(15155);function w(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function N(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?w(Object(i),!0).forEach((function(n){(0,u.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var y=function(e){var n,i,t=e.menuList,a=e.menuIndexes,r=e.swapMenu,o=a.reduce((function(e,n){var i;return null===e||void 0===e||null===(i=e.children)||void 0===i?void 0:i[n]}),t),s=o.url,l=o.selected,c=o.title,d=0===a.length?{title:"Table of Contents"}:{title:null!==(n=null===o||void 0===o?void 0:o.title)&&void 0!==n?n:"TOC Section",back:r};return(0,h.jsxs)(g.Z,N(N({},d),{},{children:[s&&(0,h.jsx)(k.D8,{selected:l,href:s,trackingComponent:"navigation-wikiTOC",name:c,itemLineClamp:2}),(0,h.jsx)(x,{list:null!==(i=null===o||void 0===o?void 0:o.children)&&void 0!==i?i:[],swapMenu:r})]}))},O=function e(n,i){var t,a=null===n||void 0===n||null===(t=n.children)||void 0===t?void 0:t.findIndex((function(e){return!0===e.expanded}));return-1!==a?[].concat((0,d.Z)(i),(0,d.Z)(e(n.children[a],[a]))):i},D=function(e){var n=e.wikiSlug,i=e.chapter,t=e.scrollToTop,r=(0,S.Z)({slug:n,chapter:i}),o=(0,a.useMemo)((function(){return O({children:r},[])}),[r]),s=(0,m.Z)(!0),l=(0,c.Z)(s,2),u=l[0],k=l[1],g=(0,m.Z)(o),p=(0,c.Z)(g,2),f=p[0],b=p[1],j=(0,m.Z)([]),x=(0,c.Z)(j,2),w=x[0],N=x[1];(0,a.useEffect)((function(){k(!0),b(o),N([])}),[o,k,b,N]);var D=(0,a.useCallback)((function(e){t(),k(!u),u?N(isNaN(e)?f.slice(0,-1):[].concat((0,d.Z)(f),[e])):b(isNaN(e)?w.slice(0,-1):[].concat((0,d.Z)(w),[e]))}),[t,k,u,N,f,b,w]),F=u?f.length<w.length:f.length>w.length;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(v.Z,{className:"toc-1",show:u,unidirectional:!0,right:F,children:(0,h.jsx)(y,{menuIndexes:f,menuList:{children:r},swapMenu:D})}),(0,h.jsx)(v.Z,{className:"toc-2",show:!u,unidirectional:!0,right:F,children:(0,h.jsx)(y,{menuIndexes:w,menuList:{children:r},swapMenu:D})})]})},F=i(29497),P=i(38171),Z=i(47780),C=i(91542),T=i(60434),E=i(13943),I=i(56018),M=i(10361),V=i(46935),L=i(87860),W=i(2874),A=i(12705),$=i(31112),q=function(e){var n=e.hide,i=(0,s.Pk)();return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(A.ZP,{isOpen:!0,aria:{labelledby:"contentLabel"},centered:!0,showClose:!1,children:(0,h.jsx)($.Z,{title:"Enhanced Security",message:"Logging in with Two-Factor Authentication (2FA) is required to perform this action.",buttonText:"Enable 2FA",hide:n,handleCloseClick:function(){n(),(0,o.aeD)({label:"Enable 2FA",component:"content-enable2FAPrompt",href:"/account/settings"}),window.location.href=(0,o.BhY)("/account/settings",i)}})})})},R=function(e){var n=e.expandThis,i=e.back,t=(0,V.qt)(),r=t.slug,o=t.chapterSlug,l=t.locked,d=(0,s.we)(),u=(0,s.Pk)(),v=function(){var e=(0,s.xJ)().use2FA,n=(0,W.Z)(!1),i=(0,c.Z)(n,4),t=i[0],r=i[2],o=i[3],l=t&&!e;return{checkTwoFactorEnabled:(0,a.useCallback)((function(n,i){return function(t){return e?null===n||void 0===n?void 0:n(t,i):(t.preventDefault(),r(),!1)}}),[r,e]),showTwoFactorPrompt:l,hideTwoFactorPrompt:o}}(),p=v.checkTwoFactorEnabled,f=v.showTwoFactorPrompt,b=v.hideTwoFactorPrompt,j=d.can("moderate","Wiki"),x=!l&&u&&d.can("edit","Wiki")||j,S=(0,a.useCallback)((function(e){var n=e.show;return(0,h.jsx)(k.OP,{name:"Delete this Page",onClick:n})}),[]),w=(0,m.Z)(!1),N=(0,c.Z)(w,2),y=N[0],O=N[1],D=(0,a.useCallback)((function(){y||n()}),[n,y]);return(0,I.Z)((function(){O(!0)}),[O]),(0,h.jsxs)(h.Fragment,{children:[f&&(0,h.jsx)(q,{hide:b}),(0,h.jsxs)(g.Z,{className:"wiki-settings",title:"Settings",back:i,children:[x&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(k.D8,{name:"Edit",onClick:p(),href:"/wikis/".concat(r,"/slate/").concat(o)}),(0,h.jsx)(k.D8,{name:"Flag",href:"/wikis/".concat(r,"/flag/").concat(o)})]}),j&&!l&&(0,h.jsx)(k.D8,{name:"Lock",href:"/wikis/".concat(r,"/lock/").concat(o)}),j&&l&&(0,h.jsx)(k.D8,{name:"Unlock",href:"/wikis/".concat(r,"/unlock/").concat(o),expandParent:D}),j&&o&&(0,h.jsx)(L.Z,{slug:r,chapter:o,source:M.R5,ModalToggleButton:S}),x&&(0,h.jsx)(k.D8,{name:"View History",href:"/wikis/".concat(r,"/history/").concat(o),expandParent:D}),u&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(k.D8,{name:"View Style Guide",href:"/wikis/how-to/Beginner%27s_Guide_to_Wikis"}),(0,h.jsx)(k.D8,{name:"View Wiki Support",href:"https://www.ignboards.com/forums/wikis-discussion.5030/"})]}),x&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(k.D8,{name:"Edit Table of Contents",href:"/wikis/".concat(r,"/edit/Ign:Navigation")}),(0,h.jsx)(k.D8,{name:"Add Page",href:"/wikis/".concat(r,"/add?navsection=0")})]}),(0,h.jsx)(k.D8,{name:"Recent Changes",href:"/wikis/".concat(r,"/recentchanges"),expandParent:D}),(0,h.jsx)(k.D8,{name:"Orphaned Pages",href:"/wikis/".concat(r,"/orphanedpages"),expandParent:D}),(0,h.jsx)(k.D8,{name:"Dead-end Pages",href:"/wikis/".concat(r,"/deadendpages"),expandParent:D}),(0,h.jsx)(k.D8,{name:"Wanted Pages",href:"/wikis/".concat(r,"/wantedpages"),expandParent:D}),(0,h.jsx)(k.D8,{name:"Short Pages",href:"/wikis/".concat(r,"/shortpages"),expandParent:D}),(0,h.jsx)(k.D8,{name:"Long Pages",href:"/wikis/".concat(r,"/longpages"),expandParent:D}),(0,h.jsx)(k.D8,{name:"All Pages",href:"/wikis/".concat(r,"/allpages"),expandParent:D}),(0,h.jsx)(k.D8,{name:"View Contributors",href:"/wikis/".concat(r,"/topcontributors"),expandParent:D})]})]})},z=i(41054),_=i(18877),B=i(81138),G=i.n(B),Y=i(11540),U=i(19554),X=i(86458),H=i(90044),Q=i(83296),J=i(52643),K=i(83036),ee=i(69878),ne=i(76167);function ie(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function te(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?ie(Object(i),!0).forEach((function(n){(0,u.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ie(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var ae=function(e){var n=e.trackingComponent,i=e.wikiSlug,a=e.title,r=e.url,s=e.snippet,l=e.updatedAt;return(0,h.jsxs)(C.Z,{spacing:2,sx:{alignItems:"flex-start"},element:(0,h.jsx)(k.D8,{href:"/wikis/".concat(i,"/").concat(r),trackingLabel:a,trackingComponent:n}),children:[(0,h.jsx)(X.Z,{bold:!0,className:"title",children:a}),(0,h.jsx)(X.Z,{children:(0,h.jsx)("div",{dangerouslySetInnerHTML:{__html:s},className:"jsx-2497052157 snippet"})}),(0,h.jsx)("div",{className:"jsx-2497052157 updated-at",children:(0,h.jsxs)(H.Z,{children:["Last Edited: ",(0,h.jsx)("time",{className:"jsx-2497052157",children:(0,o.Kzm)(l,"d MMM yyyy h:mm a")})]})}),(0,h.jsx)(t.default,{id:"2497052157",children:[".snippet.jsx-2497052157{word-break:break-word;}",".snippet.jsx-2497052157 .searchmatch{font-weight:bold;font-style:italic;}",".updated-at.jsx-2497052157{color:var(--theme-elements-text-muted);}"]})]})},re=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ne.Z,{}),(0,h.jsx)(T.Z,{sx:{my:2}})]})},oe=function(e){var n=e.wikiSlug,i=e.name,t=e.trackingComponent,a=(0,V.qt)().canonical,r=(0,J.cI)().values.term,s=(0,Y.Z)({query:G(),variables:{slug:n,term:r,count:M.hA,startIndex:0},dataPath:"wiki.search",itemsKey:"pages",paginationKey:"pagination",skip:!r}),l=s.items,c=s.pagination,d=s.loadMore,u=s.error,m=s.loading,k=s.loadingMore,v=s.total,g=s.shouldLoadMore;if(!r)return null;return(0,h.jsxs)("div",{className:"search-content",children:[(0,h.jsxs)(Q.Z,{className:"search-title",sx:{mb:2},children:[l.length>0&&(0,o.B$k)({count:v,noun:"Search Result"}),"\xa0"]}),(0,h.jsx)(K.D,{count:5,items:l,error:u,loading:m,loadingMore:k,skeleton:(0,h.jsx)(re,{}),children:(0,h.jsx)(C.Z,{spacing:2,divider:(0,h.jsx)(T.Z,{sx:{my:0}}),children:l.map((function(e,i){return(0,h.jsx)(ae,te({},te({trackingComponent:t,wikiSlug:n},e)),i)}))})}),(0,h.jsx)(ee.Z,{countPageview:!1,shouldLoadMore:g,onLoadMore:function(){return d((0,o.HIC)(c),(function(e){return(0,o.tN_)({url:a,title:"Wiki Search - ".concat(i," Wiki Guide (Page ").concat(e,")"),eventLabel:"virtualPageview"})}))}})]})},se=function(e){var n=e.wikiSlug,i=e.name,a=e.trackingComponent;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(z.J9,{enableReinitialize:!0,initialValues:{term:""},validationSchema:_.Hi,onSubmit:function(e,n){var i=e.term,t=n.setSubmitting;(0,o.L9W)({event:"wiki-searched",category:"Wiki Search",action:"search",component:a,optionalEvents:{searchTerm:i}}),t(!1)},children:(0,h.jsxs)(z.l0,{className:"wiki-search",children:[(0,h.jsx)(U.Z,{className:"small",type:"search","aria-label":"Search",name:"term",placeholder:"Search"}),(0,h.jsx)(J.Au,{fullWidth:!0,label:"Search"}),(0,h.jsx)(oe,{wikiSlug:n,name:i,trackingComponent:a})]})}),(0,h.jsx)(t.default,{id:"1793438304",children:[".wiki-search .form-buttons{margin:24px 0;}"]})]})},le=i(10219),ce=i(39887),de=["wikiSlug","maps","back","showMapsContent"];function ue(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function me(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?ue(Object(i),!0).forEach((function(n){(0,u.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ue(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var ke=(0,ce.N6)((0,ce.aG)("maps"),(function(e){var n=e.wikiSlug,i=e.maps,t=void 0===i?[]:i,r=e.back,s=e.showMapsContent,l=(0,le.Z)(e,de),d=(0,o.lBL)("mapName",t),u=(0,m.Z)(!1),p=(0,c.Z)(u,2),f=p[0],b=p[1];(0,I.Z)((function(){return b(!0)}),[b]);var j=(0,a.useCallback)((function(){return!f&&s()}),[f,s]);return(0,h.jsx)(v.Z,me(me({className:"maps"},l),{},{children:(0,h.jsx)(g.Z,{title:(0,o.B$k)({withCount:!1,count:d.length,noun:"Interactive Map"}),back:r,children:d.map((function(e){var i=e.mapSlug,t=e.mapName;return(0,h.jsx)(k.D8,{href:"/maps/".concat(n,"/").concat(i),name:t,trackingLabel:"Interactive Map",expandParent:j},i)}))})}))})),ve="more",ge="search",pe="settings",he="toc",fe="maps",be=function(e){var n=e.wikiSlug,i=e.chapter,a=e.name,c=e.objectType,d=e.objectSlug,u=e.maps,m=void 0===u?[]:u,f=e.scrollToTop,b=(0,r.Z)(he),j=b.active,x=b.swap,S=(0,l.Ap)(),w=S.collapsed,N=S.toggleCollapsed,y=S.trackingComponent,O=function(e){w&&N(),x(e)};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(F.R8,{title:"".concat(a," Guide")}),(0,h.jsxs)(C.Z,{divider:(0,h.jsx)(T.Z,{sx:{my:3}}),children:[(0,h.jsxs)(g.Z,{children:[(0,h.jsx)(k.OP,{icon:(0,h.jsx)(p.IconSearch,{}),onClick:function(){return O(ge)},actions:(0,h.jsx)(p.IconRightChevron,{styles:{fontSize:"0.75rem"}}),name:"Search Guide",selected:j===ge,trackingComponent:y}),(0,h.jsx)(k.OP,{icon:(0,h.jsx)(p.IconList,{}),actions:(0,h.jsx)(p.IconRightChevron,{styles:{fontSize:"0.75rem"}}),trackingComponent:y,name:"Table of Contents",onClick:function(){return O(he)},selected:j===he}),m.length>0?(0,h.jsx)(k.OP,{icon:(0,h.jsx)(p.IconMaps,{}),actions:(0,h.jsx)(p.IconRightChevron,{styles:{fontSize:"0.75rem"}}),trackingComponent:y,name:(0,o.B$k)({withCount:!1,count:m.length,noun:"Interactive Map"}),onClick:function(){return O(fe)},selected:j===fe}):d&&(0,h.jsx)(k.D8,{href:"/".concat((0,o.YpU)(c),"/").concat(d),icon:Z.objectOutlinedIcons[c],name:"".concat((0,o.UrO)({objectType:c})," Info")}),(0,h.jsx)(k.OP,{trackingComponent:y,icon:(0,h.jsx)(p.IconEllipsis,{outlined:!0}),actions:(0,h.jsx)(p.IconRightChevron,{styles:{fontSize:"0.75rem"}}),name:"More",onClick:function(){return O(ve)},selected:j===ve}),(0,h.jsx)(s.m1,{I:"edit",a:"Wiki",children:(0,h.jsx)(k.OP,{icon:(0,h.jsx)(p.IconSettings,{}),actions:(0,h.jsx)(p.IconRightChevron,{styles:{fontSize:"0.75rem"}}),name:"Settings",onClick:function(){return O(pe)},selected:j===pe})})]}),(0,h.jsx)("div",{style:{position:"relative"},className:"jsx-799285582",children:(0,h.jsxs)(E.Z,{keepMounted:!0,active:j,children:[(0,h.jsxs)(v.Z,{view:ge,className:"search",show:j===ge,children:[(0,h.jsx)(g.z,{title:"Search",back:function(){return x(he)}}),(0,h.jsx)(se,{wikiSlug:n,name:a,trackingComponent:y})]}),(0,h.jsx)(ke,{wikiSlug:n,maps:m,view:fe,back:function(){return x(he)},show:j===fe,showMapsContent:function(){return x(fe)}}),(0,h.jsx)(P.X,{view:ve,display:j===ve,showMoreContent:function(){return x(ve)},back:function(){return x(he)}}),(0,h.jsx)(v.Z,{className:"settings",view:pe,show:j===pe,children:(0,h.jsx)(s.m1,{I:"edit",a:"Wiki",children:(0,h.jsx)(R,{expandThis:function(){return x(pe)},back:function(){return x(he)}})})}),(0,h.jsx)(D,{view:he,wikiSlug:n,chapter:i,scrollToTop:f,showWikiTOC:j===he})]})})]}),(0,h.jsx)(t.default,{id:"799285582",children:[".sidebar-header{margin-bottom:12px;}",".sidebar-header.collapsed{margin-bottom:0px;}"]})]})}}}]);
//# sourceMappingURL=3776-4c3cde4b8a00f3e6198f.js.map